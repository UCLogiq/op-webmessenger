<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CXLogiq Web Messenger Demo</title>
    <script type="text/javascript" charset="utf-8">
      (function (g, e, n, es, ys) {
        g["_genesysJs"] = e;
        g[e] =
          g[e] ||
          function () {
            (g[e].q = g[e].q || []).push(arguments);
          };
        g[e].t = 1 * new Date();
        g[e].c = es;
        ys = document.createElement("script");
        ys.async = 1;
        ys.src = n;
        ys.charset = "utf-8";
        document.head.appendChild(ys);
      })(
        window,
        "Genesys",
        "https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js",
        {
          environment: "prod-apse2",
          deploymentId: "c13ec92b-0bcc-4210-9064-372be951c4b1",
        }
      );
    </script>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #f4f4f9;
        position: relative;
      }
      .container {
        text-align: center;
      }
      h1 {
        color: #333;
      }
      p {
        color: #666;
      }
      .logo {
        position: absolute;
        top: 10px;
        right: 10px;
        width: 200px; /* Adjust the width as needed */
      }
      .start-chat-button {
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        margin-top: 20px;
        display: none; /* Initially hide the button */
      }
      .form-group {
        margin-bottom: 15px;
      }
      .form-group label {
        display: block;
        margin-bottom: 5px;
      }
      .form-group input {
        padding: 8px;
        width: 50ch; /* Set the width to 50 characters */
        box-sizing: border-box;
      }
      .required::after {
        content: " *";
        color: red;
      }
    </style>
    <script>
      // Subscribe to the Messenger.ready event
      Genesys("subscribe", "Messenger.ready", function () {
        // Show the start chat button when the messenger is ready
        document.querySelector(".start-chat-button").style.display =
          "inline-block";
        console.log("Messenger is ready");
      });

      function startWebChat() {
        Genesys(
          "command",
          "Messenger.open",
          {},
          () => {
            /*fulfilled callback*/
            console.log("Messenger opened");
          },
          (error) => {
            /*rejected callback*/
            console.log("Couldn't open messenger.", error);
          }
        );
      }

      function validateForm() {
        const firstName = document.getElementById("first-name").value;
        document.querySelector(".start-chat-button").disabled = !firstName;
      }
    </script>
  </head>
  <body>
    <img src="assets/cxlogiq_logo_PNG.png" alt="CXLogiq Logo" class="logo" />
    <div class="container">
      <h1>Welcome to the OP Genesys Cloud Web Messenger Test Page</h1>
      <p>Need assistance? Use the chat widget to connect with us!</p>
      
      <button class="start-chat-button" onclick="startWebChat()">
        Start Web Chat
      </button>
    </div>
  </body>
</html>
